{
	"version": 1,
	"metadata": {
		"dialogue_id": "variable_test",
		"display_name": "Variable Test",
		"description": "Test dialogue demonstrating variable usage for Variables panel",
		"author": "Claude",
		"created_date": "2025-01-15",
		"modified_date": "2025-01-16"
	},
	"canvas": {
		"scroll_offset_x": 0,
		"scroll_offset_y": 0,
		"zoom": 1.0
	},
	"nodes": [
		{
			"id": "Start_1",
			"type": "Start",
			"position_x": 100,
			"position_y": 100
		},
		{
			"id": "Speaker_1",
			"type": "Speaker",
			"position_x": 100,
			"position_y": 250,
			"speaker": "Merchant",
			"text": "Welcome to my shop, traveler! What brings you here today?"
		},
		{
			"id": "Branch_1",
			"type": "Branch",
			"position_x": 100,
			"position_y": 400,
			"condition_mode": "expression",
			"expression": "has_flag(\"met_merchant\") and reputation >= 50"
		},
		{
			"id": "Speaker_returning",
			"type": "Speaker",
			"position_x": -150,
			"position_y": 600,
			"speaker": "Merchant",
			"text": "Ah, good to see you again, friend! I have some special items for loyal customers."
		},
		{
			"id": "Speaker_new",
			"type": "Speaker",
			"position_x": 350,
			"position_y": 600,
			"speaker": "Merchant",
			"text": "First time here? Let me show you around."
		},
		{
			"id": "FlagSet_1",
			"type": "FlagSet",
			"position_x": 100,
			"position_y": 800,
			"operations": [
				{
					"variable": "met_merchant",
					"operation": "set",
					"value": true
				},
				{
					"variable": "shop_visits",
					"operation": "add",
					"value": 1
				}
			]
		},
		{
			"id": "End_1",
			"type": "End",
			"position_x": 100,
			"position_y": 1000
		}
	],
	"connections": [
		{"from_node": "Start_1", "from_port": 0, "to_node": "Speaker_1", "to_port": 0},
		{"from_node": "Speaker_1", "from_port": 0, "to_node": "Branch_1", "to_port": 0},
		{"from_node": "Branch_1", "from_port": 3, "to_node": "Speaker_returning", "to_port": 0},
		{"from_node": "Branch_1", "from_port": 4, "to_node": "Speaker_new", "to_port": 0},
		{"from_node": "Speaker_returning", "from_port": 0, "to_node": "FlagSet_1", "to_port": 0},
		{"from_node": "Speaker_new", "from_port": 0, "to_node": "FlagSet_1", "to_port": 0},
		{"from_node": "FlagSet_1", "from_port": 0, "to_node": "End_1", "to_port": 0}
	]
}
